{"ast":null,"code":"export async function getPosts(req, cat) {\n  const postsArray = await req.db.collection('posts').find({\n    category: cat\n  }).sort({\n    createdAt: -1\n  }).toArray();\n  if (!postsArray) return null;\n  const posts = postsArray.map(value => {\n    const {\n      image_link,\n      caption,\n      author,\n      source,\n      source_link,\n      category,\n      headings,\n      abstract_cat,\n      content\n    } = value;\n    return {\n      image_link,\n      caption,\n      author,\n      source,\n      source_link,\n      category,\n      headings,\n      abstract_cat,\n      content\n    };\n  });\n  return {\n    posts\n  };\n}","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/lib/db.js"],"names":["getPosts","req","cat","postsArray","db","collection","find","category","sort","createdAt","toArray","posts","map","value","image_link","caption","author","source","source_link","headings","abstract_cat","content"],"mappings":"AAAA,OAAO,eAAeA,QAAf,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkC;AACrC,QAAMC,UAAU,GAAG,MAAMF,GAAG,CAACG,EAAJ,CACxBC,UADwB,CACb,OADa,EAExBC,IAFwB,CAEnB;AAACC,IAAAA,QAAQ,EAACL;AAAV,GAFmB,EAGxBM,IAHwB,CAGnB;AAACC,IAAAA,SAAS,EAAC,CAAC;AAAZ,GAHmB,EAIxBC,OAJwB,EAAzB;AAMA,MAAI,CAACP,UAAL,EAAiB,OAAO,IAAP;AACjB,QAAMQ,KAAK,GAAGR,UAAU,CAACS,GAAX,CAAeC,KAAK,IAAI;AACpC,UAAM;AAACC,MAAAA,UAAD;AAAYC,MAAAA,OAAZ;AAAoBC,MAAAA,MAApB;AAA2BC,MAAAA,MAA3B;AAAkCC,MAAAA,WAAlC;AAA8CX,MAAAA,QAA9C;AAAuDY,MAAAA,QAAvD;AAAgEC,MAAAA,YAAhE;AAA6EC,MAAAA;AAA7E,QAAuFR,KAA7F;AACA,WAAO;AAACC,MAAAA,UAAD;AACLC,MAAAA,OADK;AAELC,MAAAA,MAFK;AAGLC,MAAAA,MAHK;AAILC,MAAAA,WAJK;AAKLX,MAAAA,QALK;AAMLY,MAAAA,QANK;AAOLC,MAAAA,YAPK;AAQPC,MAAAA;AARO,KAAP;AASD,GAXa,CAAd;AAaA,SAAO;AAACV,IAAAA;AAAD,GAAP;AACD","sourcesContent":["export async function getPosts(req, cat) {\r\n    const postsArray = await req.db\r\n    .collection('posts')\r\n    .find({category:cat})\r\n    .sort({createdAt:-1})\r\n    .toArray();\r\n\r\n    if (!postsArray) return null;\r\n    const posts = postsArray.map(value => {\r\n      const {image_link,caption,author,source,source_link,category,headings,abstract_cat,content} =value\r\n      return {image_link,\r\n        caption,\r\n        author,\r\n        source,\r\n        source_link,\r\n        category,\r\n        headings,\r\n        abstract_cat,\r\n      content}\r\n    });\r\n\r\n    return {posts}\r\n  }"]},"metadata":{},"sourceType":"module"}