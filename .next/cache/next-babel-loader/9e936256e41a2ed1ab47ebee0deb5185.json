{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\hero\\\\Documents\\\\projects\\\\Next\\\\pages\\\\index.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from '../components/head';\nimport Nav from '../components/nav';\nimport Intro from '../components/Intro';\nimport fetch from 'node-fetch';\nimport useSWR from 'swr';\n\nvar fetcher = function fetcher(url) {\n  return fetch(url).then(function (r) {\n    return r.json();\n  });\n};\n\nvar Post = function Post(props) {\n  var post = props.post; //console.log(`host : ${process.env.HOST}/api/posts`)\n\n  return __jsx(\"div\", {\n    className: \"col-lg-4 col-md-6 col-sm-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"news-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, post.image_link !== null ? __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"/images/president-buhari-e1567317241105-375x195.jpg\",\n    className: \"img-fluid sub-inner-img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }\n  })) : __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"/images/president-buhari-e1567317241105-375x195.jpg\",\n    className: \"img-fluid sub-inner-img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  })), __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }\n  }, post.caption)));\n};\n\nvar categoryReturn = function categoryReturn(data, category, num, type) {\n  return data.reduce(function (acc, post) {\n    if (acc.length === num) return acc;\n    console.log(post[type], type);\n    if (post[type] === category) acc.push(post);\n    return acc;\n  }, []);\n};\n\nfunction Index(props) {\n  var _this2 = this;\n\n  var initialData = props.data;\n\n  var _useSWR = useSWR(\"http://localhost:3000/api/posts\", fetcher, {\n    initialData: initialData\n  }),\n      data = _useSWR.data;\n\n  var intro = categoryReturn(data.posts, 'intro', 1, 'abstract_cat').map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 85\n      }\n    });\n  });\n  var business = categoryReturn(data.posts, 'business', 6, 'category').map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 88\n      }\n    });\n  });\n  var politics = categoryReturn(data.posts, 'politics', 6, 'category').map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 88\n      }\n    });\n  });\n  var celebrities = categoryReturn(data.posts, 'celebrities', 6, 'category').map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 94\n      }\n    });\n  });\n  var sport = categoryReturn(data.posts, 'sport', 6, 'category').map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 82\n      }\n    });\n  });\n  var social_media = categoryReturn(data.posts, 'social_media', 6, 'category').map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 96\n      }\n    });\n  });\n  var internation = categoryReturn(data.posts, 'internation', 6, 'category').map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 94\n      }\n    });\n  });\n  var tech_inno = categoryReturn(data.posts, 'tech_inno', 6, 'category').map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 90\n      }\n    });\n  });\n  var health = categoryReturn(data.posts, 'health', 6, 'category').map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 84\n      }\n    });\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), __jsx(Intro, {\n    posts: {\n      business: business,\n      politics: politics,\n      celebrities: celebrities,\n      sport: sport,\n      social_media: social_media,\n      internation: internation,\n      tech_inno: tech_inno,\n      health: health\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }));\n}\n/*const Index= () => {\r\n    return(\r\n    <div>\r\n        <Head/>\r\n        <Nav/>\r\n    </div>\r\n    )\r\n}*/\n\n\nexport var __N_SSP = true;\nexport default Index;","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/pages/index.js"],"names":["Head","Nav","Intro","fetch","useSWR","fetcher","url","then","r","json","Post","props","post","image_link","caption","categoryReturn","data","category","num","type","reduce","acc","length","console","log","push","Index","initialData","intro","posts","map","_id","business","politics","celebrities","sport","social_media","internation","tech_inno","health"],"mappings":"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","sourcesContent":["import Head from '../components/head'\r\nimport Nav from '../components/nav'\r\nimport Intro from '../components/Intro'\r\nimport fetch from 'node-fetch'\r\nimport useSWR from 'swr'\r\n\r\n\r\nconst fetcher =(url)=>{return fetch(url).then(r => r.json())}\r\nconst Post =(props)=>{\r\n    const {post} = props;\r\n    //console.log(`host : ${process.env.HOST}/api/posts`)\r\nreturn(                  \r\n    <div className=\"col-lg-4 col-md-6 col-sm-6\">\r\n        <div className=\"news-container\">\r\n            {\r\n            post.image_link !== null ?\r\n            <a className=\"news-items\" href=''>\r\n            <img src='/images/president-buhari-e1567317241105-375x195.jpg' className=\"img-fluid sub-inner-img\" />\r\n            </a>\r\n            :\r\n            <a className=\"news-items\" href=''>\r\n            <img src='/images/president-buhari-e1567317241105-375x195.jpg'  className=\"img-fluid sub-inner-img\"/>\r\n            </a>\r\n            }\r\n          <a className=\"news-items\" href=\"\">{post.caption}\r\n          </a>   \r\n        </div>\r\n    </div>\r\n    )\r\n}\r\nexport async function getServerSideProps() {\r\n    //console.log(`${process.env.HOST}/api/posts`)\r\n    const data = await fetcher(`http://localhost:3000/api/posts`)\r\n    return { props: { data } }\r\n  }\r\nconst categoryReturn =(data, category, num, type)=>{\r\n    \r\n   return data.reduce((acc, post)=>{\r\n        if(acc.length === num) return acc;\r\n        console.log(post[type], type)\r\n        if(post[type] === category) acc.push(post);\r\n        return acc;\r\n    },[])\r\n    \r\n}  \r\nfunction Index (props) {\r\n    const initialData = props.data\r\n   const { data } = useSWR(`http://localhost:3000/api/posts`, fetcher, { initialData })\r\n   const intro = categoryReturn(data.posts, 'intro', 1, 'abstract_cat').map((post)=><Post key={post._id} post={post}/>)\r\n   const business =  categoryReturn(data.posts, 'business', 6, 'category').map((post)=><Post key={post._id} post={post}/>)\r\n   const politics =  categoryReturn(data.posts, 'politics', 6, 'category').map((post)=><Post key={post._id} post={post}/>)\r\n   const celebrities =  categoryReturn(data.posts, 'celebrities', 6, 'category').map((post)=><Post key={post._id} post={post}/>)\r\n   const sport =  categoryReturn(data.posts, 'sport', 6, 'category').map((post)=><Post key={post._id} post={post}/>)\r\n   const social_media =  categoryReturn(data.posts, 'social_media', 6, 'category').map((post)=><Post key={post._id} post={post}/>)\r\n   const internation =  categoryReturn(data.posts, 'internation', 6, 'category').map((post)=><Post key={post._id} post={post}/>)\r\n   const tech_inno =  categoryReturn(data.posts, 'tech_inno', 6, 'category').map((post)=><Post key={post._id} post={post}/>)\r\n   const health =  categoryReturn(data.posts, 'health', 6, 'category').map((post)=><Post key={post._id} post={post}/>)\r\n    return (\r\n    <div>\r\n        <Head/>\r\n        <Nav/>\r\n        <Intro posts= {{business, politics, celebrities, sport, social_media, internation,\r\n        tech_inno, health}}/>\r\n    </div>\r\n    \r\n    )\r\n  }\r\n\r\n\r\n/*const Index= () => {\r\n    return(\r\n    <div>\r\n        <Head/>\r\n        <Nav/>\r\n    </div>\r\n    )\r\n}*/\r\nexport default Index"]},"metadata":{},"sourceType":"module"}