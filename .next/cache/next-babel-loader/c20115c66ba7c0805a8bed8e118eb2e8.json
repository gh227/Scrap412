{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hero\\\\Documents\\\\projects\\\\Next\\\\pages\\\\news\\\\[cat]\\\\[title].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from '../../../components/head';\nimport Nav from '../../../components/nav';\nimport { categoryReturn, filterCat, spliter } from '../../../lib/posts';\nimport Single from '../../../components/Single';\nimport Abstract from '../../../components/Abstract';\n\nfunction SinglePost(props) {\n  var _this = this;\n\n  if (props instanceof Object) {\n    var _single = props.single.single,\n        latest_news = props.latest.latest_news,\n        top_news = props.topNews.top_news;\n\n    var _latestObj = latest_news.map(function (post) {\n      return __jsx(Abstract, {\n        key: post._id,\n        post: post,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 45\n        }\n      });\n    });\n\n    var _topNewsObj = top_news.map(function (post) {\n      return __jsx(Abstract, {\n        key: post._id,\n        post: post,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 43\n        }\n      });\n    });\n  }\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 1\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 3\n    }\n  }), __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 3\n    }\n  }), __jsx(Single, {\n    intro: props.intro,\n    posts: {\n      single: single,\n      latestObj: latestObj,\n      topNewsObj: topNewsObj\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 3\n    }\n  }));\n}\n\nexport var __N_SSP = true;\nexport default SinglePost;","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/pages/news/[cat]/[title].js"],"names":["Head","Nav","categoryReturn","filterCat","spliter","Single","Abstract","SinglePost","props","Object","single","latest_news","latest","top_news","topNews","latestObj","map","post","_id","topNewsObj","intro"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,0BAAjB;AACA,OAAOC,GAAP,MAAgB,yBAAhB;AACA,SAAQC,cAAR,EAAwBC,SAAxB,EAAkCC,OAAlC,QAAgD,oBAAhD;AAGA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,QAAP,MAAqB,8BAArB;;AAYA,SAASC,UAAT,CAAoBC,KAApB,EAA0B;AAAA;;AACxB,MAAGA,KAAK,YAAYC,MAApB,EAA2B;AAAA,QACZC,OADY,GACyCF,KADzC,CACpBE,MADoB,CACZA,MADY;AAAA,QACKC,WADL,GACyCH,KADzC,CACHI,MADG,CACKD,WADL;AAAA,QAC4BE,QAD5B,GACyCL,KADzC,CACmBM,OADnB,CAC4BD,QAD5B;;AAE3B,QAAME,UAAS,GAAGJ,WAAW,CAACK,GAAZ,CAAgB,UAACC,IAAD;AAAA,aAAQ,MAAC,QAAD;AAAU,QAAA,GAAG,EAAEA,IAAI,CAACC,GAApB;AAAyB,QAAA,IAAI,EAAED,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AAAA,KAAhB,CAAlB;;AACA,QAAME,WAAU,GAAGN,QAAQ,CAACG,GAAT,CAAa,UAACC,IAAD;AAAA,aAAQ,MAAC,QAAD;AAAU,QAAA,GAAG,EAAEA,IAAI,CAACC,GAApB;AAAyB,QAAA,IAAI,EAAED,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AAAA,KAAb,CAAnB;AACC;;AACD,SACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAET,KAAK,CAACY,KAArB;AAA4B,IAAA,KAAK,EAAE;AAACV,MAAAA,MAAM,EAANA,MAAD;AAASK,MAAAA,SAAS,EAATA,SAAT;AAAoBI,MAAAA,UAAU,EAAVA;AAApB,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADE;AAOD;;;AAID,eAAeZ,UAAf","sourcesContent":["import Head from '../../../components/head'\r\nimport Nav from '../../../components/nav'\r\nimport {categoryReturn, filterCat,spliter} from '../../../lib/posts'\r\nimport { getSingle, getLatest, getTopNews } from '../../../lib/db';\r\nimport middleware from '../../../middlewares/middleware';\r\nimport Single from '../../../components/Single'\r\nimport Abstract from '../../../components/Abstract'\r\n\r\nexport async function getServerSideProps(context) {\r\n  console.log(context)\r\n  await middleware.apply(context.req, context.res);\r\n const single = await getSingle(context.req, context.params.title);\r\n const latest = await getLatest(context.req);\r\n const topNews = await getTopNews(context.req);\r\n  if (!single || !latest || !topNews) context.res.statusCode = 404;\r\n  return {props:{single, latest, topNews}}\r\n}\r\n\r\nfunction SinglePost(props){\r\n  if(props instanceof Object){\r\n  const {single:{single}, latest:{latest_news}, topNews:{top_news} }= props\r\n  const latestObj = latest_news.map((post)=><Abstract key={post._id} post={post}/>)\r\n  const topNewsObj = top_news.map((post)=><Abstract key={post._id} post={post}/>)\r\n  }\r\n  return(\r\n<div>\r\n  <Head/>\r\n  <Nav/>\r\n  <Single intro={props.intro} posts={{single, latestObj, topNewsObj}}/>\r\n </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default SinglePost"]},"metadata":{},"sourceType":"module"}