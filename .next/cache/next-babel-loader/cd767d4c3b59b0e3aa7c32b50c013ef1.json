{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\hero\\\\Documents\\\\projects\\\\Next\\\\pages\\\\news\\\\[cat]\\\\[title].js\";\nvar __jsx = React.createElement;\nimport Head from '../../../components/Head';\nimport Nav from '../../../components/Nav';\nimport Footer from '../../../components/Footer';\nimport Loader from '../../../components/Loader';\nimport { categoryReturn, filterCat, spliter } from '../../../lib/posts';\nimport { getSingle, getLatest, getTopNews } from '../../../lib/db';\nimport middleware from '../../../middlewares/middleware';\nimport Single from '../../../components/Single';\nimport Abstract from '../../../components/Abstract';\nimport React, { useState, useEffect } from 'react';\nimport { NextSeo } from 'next-seo';\nexport async function getServerSideProps(context) {\n  await middleware.apply(context.req, context.res);\n  console.log(context.params.title);\n  const single = await getSingle(context.req, context.params.title);\n  const latest = await getLatest(context.req);\n  const topNews = await getTopNews(context.req);\n  if (!single || !latest || !topNews) context.res.statusCode = 404;\n  return {\n    props: {\n      single,\n      latest,\n      topNews\n    }\n  };\n}\n\nfunction SinglePost(props) {\n  const {\n    single: {\n      single\n    },\n    latest: {\n      latest_news\n    },\n    topNews: {\n      top_news\n    }\n  } = props;\n  const latestObj = latest_news.map(post => __jsx(Abstract, {\n    key: post._id,\n    post: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 45\n    }\n  }));\n  const topNewsObj = top_news.map(post => __jsx(Abstract, {\n    key: post._id,\n    post: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 43\n    }\n  }));\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: location,\n    1: setLocation\n  } = useState({});\n  console.log(location);\n  useEffect(() => {\n    setLocation(window.location.href);\n\n    if (props) {\n      setTimeout(() => {\n        setLoading(false);\n      }, 2000);\n    }\n  }, []);\n  return __jsx(\"div\", {\n    id: \"app-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 3\n    }\n  }, __jsx(NextSeo, {\n    title: \"ifactonews\",\n    description: \"A Nigerian news website for news lovers\",\n    canonical: \"https://ifactonews.com\",\n    openGraph: {\n      url: {\n        location\n      },\n      title: `${single.caption}`,\n      description: `${single.caption}`,\n      images: [{\n        url: `${single.image_link}`,\n        width: 800,\n        height: 600,\n        alt: `${single.caption}`\n      }, {\n        url: `${single.image_link}`,\n        width: 900,\n        height: 800,\n        alt: 'ifactonews Logo'\n      }, {\n        url: `${single.image_link}`\n      }, {\n        url: `${single.image_link}`\n      }],\n      site_name: 'Ifactonews'\n    },\n    twitter: {\n      handle: '@webdevelopa',\n      site: '@ifactonews',\n      cardType: 'summary_large_image'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }\n  }), __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }), loading ? __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 16\n    }\n  }) : __jsx(\"div\", {\n    id: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }), __jsx(Single, {\n    intro: props.intro,\n    posts: {\n      single,\n      latestObj,\n      topNewsObj\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default SinglePost;","map":{"version":3,"sources":["c:/Users/hero/Documents/projects/Next/pages/news/[cat]/[title].js"],"names":["Head","Nav","Footer","Loader","categoryReturn","filterCat","spliter","getSingle","getLatest","getTopNews","middleware","Single","Abstract","React","useState","useEffect","NextSeo","getServerSideProps","context","apply","req","res","console","log","params","title","single","latest","topNews","statusCode","props","SinglePost","latest_news","top_news","latestObj","map","post","_id","topNewsObj","loading","setLoading","location","setLocation","window","href","setTimeout","url","caption","description","images","image_link","width","height","alt","site_name","handle","site","cardType","intro"],"mappings":"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","sourcesContent":["import Head from '../../../components/Head'\nimport Nav from '../../../components/Nav'\nimport Footer from '../../../components/Footer'\nimport Loader from '../../../components/Loader'\nimport {categoryReturn, filterCat,spliter} from '../../../lib/posts'\nimport { getSingle, getLatest, getTopNews } from '../../../lib/db';\nimport middleware from '../../../middlewares/middleware';\nimport Single from '../../../components/Single'\nimport Abstract from '../../../components/Abstract'\nimport React, {useState, useEffect} from 'react'\nimport {NextSeo} from 'next-seo'\n\nexport async function getServerSideProps(context) {\n  await middleware.apply(context.req, context.res);\n  console.log(context.params.title)\n const single = await getSingle(context.req, context.params.title);\n const latest = await getLatest(context.req);\n const topNews = await getTopNews(context.req);\n  if (!single || !latest || !topNews) context.res.statusCode = 404;\n  return {props:{single, latest, topNews}}\n}\n\n\nfunction SinglePost(props){\n  const {single:{single}, latest:{latest_news}, topNews:{top_news} }= props\n  const latestObj = latest_news.map((post)=><Abstract key={post._id} post={post}/>)\n  const topNewsObj = top_news.map((post)=><Abstract key={post._id} post={post}/>)\n  const [loading, setLoading] = useState(true)\n  const [location, setLocation]= useState({});\nconsole.log(location)\n  useEffect(() => {\n    setLocation(window.location.href)\n    if(props) {\n      setTimeout(()=>{setLoading(false)}, 2000)\n    }\n  }, [])\n  return(\n  <div  id=\"app-container\">\n   <NextSeo title='ifactonews' \n      description='A Nigerian news website for news lovers' \n      canonical='https://ifactonews.com'\n      openGraph={{\n        url: {location},\n        title: `${single.caption}`,\n        description: `${single.caption}`,\n        images: [\n          {\n            url: `${single.image_link}`,\n            width: 800,\n            height: 600,\n            alt: `${single.caption}`,\n          },\n          {\n            url: `${single.image_link}`,\n            width: 900,\n            height: 800,\n            alt: 'ifactonews Logo',\n          },\n          { url: `${single.image_link}`},\n          { url: `${single.image_link}`},\n        ],\n        site_name: 'Ifactonews',\n      }}\n      twitter={{\n        handle: '@webdevelopa',\n        site: '@ifactonews',\n        cardType: 'summary_large_image',\n      }}/>\n    <Head/>\n    {loading ? <Loader/>\n    :\n    <div id=\"content\" >\n      \n    <Nav/>\n    <Single intro={props.intro} posts={{single, latestObj, topNewsObj}}/>\n    <Footer/>\n  </div>\n  }\n    \n    \n  </div>\n\n  )\n}\n\n\n\nexport default SinglePost"]},"metadata":{},"sourceType":"module"}