{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hero\\\\Documents\\\\projects\\\\Next\\\\pages\\\\news\\\\[cat]\\\\[title].js\";\nvar __jsx = React.createElement;\nimport Head from '../../../components/head';\nimport Nav from '../../../components/nav';\nimport Footer from '../../../components/Footer';\nimport Loader from '../../../components/Loader';\nimport { categoryReturn, filterCat, spliter } from '../../../lib/posts';\nimport { getSingle, getLatest, getTopNews } from '../../../lib/db';\nimport middleware from '../../../middlewares/middleware';\nimport Single from '../../../components/Single';\nimport Abstract from '../../../components/Abstract';\nimport { loading } from '../../../lib/misfunctions';\nimport React, { useEffect } from 'react';\nexport async function getServerSideProps(context) {\n  await middleware.apply(context.req, context.res);\n  const single = await getSingle(context.req, context.params.title);\n  const latest = await getLatest(context.req);\n  const topNews = await getTopNews(context.req);\n  if (!single || !latest || !topNews) context.res.statusCode = 404;\n  return {\n    props: {\n      single,\n      latest,\n      topNews\n    }\n  };\n}\n\nfunction SinglePost(props) {\n  const {\n    single: {\n      single\n    },\n    latest: {\n      latest_news\n    },\n    topNews: {\n      top_news\n    }\n  } = props;\n  const latestObj = latest_news.map(post => __jsx(Abstract, {\n    key: post._id,\n    post: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 45\n    }\n  }));\n  const topNewsObj = top_news.map(post => __jsx(Abstract, {\n    key: post._id,\n    post: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 43\n    }\n  }));\n  useEffect(() => {\n    if (props) {\n      loading();\n    }\n  }, []);\n  return __jsx(\"div\", {\n    id: \"app-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 3\n    }\n  }, __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }), __jsx(\"div\", {\n    id: \"content\",\n    style: {\n      display: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), __jsx(Single, {\n    intro: props.intro,\n    posts: {\n      single,\n      latestObj,\n      topNewsObj\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  })));\n}\n\nexport default SinglePost;","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/pages/news/[cat]/[title].js"],"names":["Head","Nav","Footer","Loader","categoryReturn","filterCat","spliter","getSingle","getLatest","getTopNews","middleware","Single","Abstract","loading","React","useEffect","getServerSideProps","context","apply","req","res","single","params","title","latest","topNews","statusCode","props","SinglePost","latest_news","top_news","latestObj","map","post","_id","topNewsObj","display","intro"],"mappings":"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","sourcesContent":["import Head from '../../../components/head'\r\nimport Nav from '../../../components/nav'\r\nimport Footer from '../../../components/Footer'\r\nimport Loader from '../../../components/Loader'\r\nimport {categoryReturn, filterCat,spliter} from '../../../lib/posts'\r\nimport { getSingle, getLatest, getTopNews } from '../../../lib/db';\r\nimport middleware from '../../../middlewares/middleware';\r\nimport Single from '../../../components/Single'\r\nimport Abstract from '../../../components/Abstract'\r\nimport {loading} from '../../../lib/misfunctions'\r\nimport React, {useEffect} from 'react'\r\n\r\nexport async function getServerSideProps(context) {\r\n  \r\n  await middleware.apply(context.req, context.res);\r\n const single = await getSingle(context.req, context.params.title);\r\n const latest = await getLatest(context.req);\r\n const topNews = await getTopNews(context.req);\r\n  if (!single || !latest || !topNews) context.res.statusCode = 404;\r\n  return {props:{single, latest, topNews}}\r\n}\r\n\r\nfunction SinglePost(props){\r\n  const {single:{single}, latest:{latest_news}, topNews:{top_news} }= props\r\n  const latestObj = latest_news.map((post)=><Abstract key={post._id} post={post}/>)\r\n  const topNewsObj = top_news.map((post)=><Abstract key={post._id} post={post}/>)\r\n  useEffect(() => {\r\n   if(props){loading()}\r\n  }, [])\r\n  return(\r\n  <div  id=\"app-container\">\r\n    <Loader/>\r\n    <div id=\"content\" style={{display:\"none\"}}>\r\n      <Head/>\r\n      <Nav/>\r\n      <Single intro={props.intro} posts={{single, latestObj, topNewsObj}}/>\r\n      <Footer/>\r\n    </div>\r\n  </div>\r\n\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default SinglePost"]},"metadata":{},"sourceType":"module"}