{"ast":null,"code":"export async function getPosts(req, cat) {\n  const posts = await req.db.collection('posts').find({\n    category: cat\n  }).sort({\n    createdAt: -1\n  }).toArray();\n  if (!posts) return null;\n  const {\n    image_link,\n    caption,\n    author,\n    source,\n    source_link,\n    category,\n    headings,\n    abstract_cat,\n    content\n  } = posts[0];\n  return {\n    image_link,\n    caption,\n    author,\n    source,\n    source_link,\n    category,\n    headings,\n    abstract_cat,\n    content\n  };\n}","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/lib/db.js"],"names":["getPosts","req","cat","posts","db","collection","find","category","sort","createdAt","toArray","image_link","caption","author","source","source_link","headings","abstract_cat","content"],"mappings":"AAAA,OAAO,eAAeA,QAAf,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkC;AACrC,QAAMC,KAAK,GAAG,MAAMF,GAAG,CAACG,EAAJ,CACnBC,UADmB,CACR,OADQ,EAEnBC,IAFmB,CAEd;AAACC,IAAAA,QAAQ,EAACL;AAAV,GAFc,EAGnBM,IAHmB,CAGd;AAACC,IAAAA,SAAS,EAAC,CAAC;AAAZ,GAHc,EAInBC,OAJmB,EAApB;AAMA,MAAI,CAACP,KAAL,EAAY,OAAO,IAAP;AACZ,QAAM;AAACQ,IAAAA,UAAD;AACNC,IAAAA,OADM;AAENC,IAAAA,MAFM;AAGNC,IAAAA,MAHM;AAINC,IAAAA,WAJM;AAKNR,IAAAA,QALM;AAMNS,IAAAA,QANM;AAONC,IAAAA,YAPM;AAQRC,IAAAA;AARQ,MAQCf,KAAK,CAAC,CAAD,CARZ;AASA,SAAO;AAACQ,IAAAA,UAAD;AACLC,IAAAA,OADK;AAELC,IAAAA,MAFK;AAGLC,IAAAA,MAHK;AAILC,IAAAA,WAJK;AAKLR,IAAAA,QALK;AAMLS,IAAAA,QANK;AAOLC,IAAAA,YAPK;AAQPC,IAAAA;AARO,GAAP;AASD","sourcesContent":["export async function getPosts(req, cat) {\r\n    const posts = await req.db\r\n    .collection('posts')\r\n    .find({category:cat})\r\n    .sort({createdAt:-1})\r\n    .toArray();\r\n\r\n    if (!posts) return null;\r\n    const {image_link,\r\n    caption,\r\n    author,\r\n    source,\r\n    source_link,\r\n    category,\r\n    headings,\r\n    abstract_cat,\r\n  content}=posts[0];\r\n    return {image_link,\r\n      caption,\r\n      author,\r\n      source,\r\n      source_link,\r\n      category,\r\n      headings,\r\n      abstract_cat,\r\n    content}\r\n  }"]},"metadata":{},"sourceType":"module"}