{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nexport function getPosts(req, category) {\n  var posts;\n  return _regeneratorRuntime.async(function getPosts$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(req.db.collection('posts').find({\n            category: category\n          }).sort({\n            createdAt: -1\n          }).toArray());\n\n        case 2:\n          posts = _context.sent;\n\n          if (posts) {\n            _context.next = 5;\n            break;\n          }\n\n          return _context.abrupt(\"return\", null);\n\n        case 5:\n          return _context.abrupt(\"return\", posts);\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/lib/db.js"],"names":["getPosts","req","category","db","collection","find","sort","createdAt","toArray","posts"],"mappings":";AAAA,OAAO,SAAeA,QAAf,CAAwBC,GAAxB,EAA6BC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACiBD,GAAG,CAACE,EAAJ,CACnBC,UADmB,CACR,OADQ,EAEnBC,IAFmB,CAEd;AAACH,YAAAA,QAAQ,EAACA;AAAV,WAFc,EAGnBI,IAHmB,CAGd;AAACC,YAAAA,SAAS,EAAC,CAAC;AAAZ,WAHc,EAInBC,OAJmB,EADjB;;AAAA;AACGC,UAAAA,KADH;;AAAA,cAOEA,KAPF;AAAA;AAAA;AAAA;;AAAA,2CAOgB,IAPhB;;AAAA;AAAA,2CAQIA,KARJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["export async function getPosts(req, category) {\r\n    const posts = await req.db\r\n    .collection('posts')\r\n    .find({category:category})\r\n    .sort({createdAt:-1})\r\n    .toArray();\r\n\r\n    if (!posts) return null;\r\n    return posts\r\n  }"]},"metadata":{},"sourceType":"module"}