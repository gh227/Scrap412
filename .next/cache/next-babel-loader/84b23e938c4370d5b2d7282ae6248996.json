{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hero\\\\Documents\\\\projects\\\\Next\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from '../components/head';\nimport Nav from '../components/nav';\nimport fetch from 'node-fetch';\nimport useSWR from 'swr';\n\nconst fetcher = url => {\n  return fetch(url).then(r => r.json());\n};\n\nconst Post = props => {\n  const {\n    post\n  } = props;\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 12\n    }\n  }, post.content);\n};\n\nexport async function getServerSideProps() {\n  //console.log(`${process.env.HOST}/api/posts`)\n  const data = await fetcher(`http://localhost:3000/api/posts`);\n  return {\n    props: {\n      data\n    }\n  };\n}\n\nfunction Index(props) {\n  const initialData = props.data;\n  const {\n    data\n  } = useSWR(`http://localhost:3000/api/posts`, fetcher, {\n    initialData\n  });\n  const readyData = data.posts.map(post => __jsx(Post, {\n    key: post._id,\n    post: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 46\n    }\n  }));\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, readyData);\n}\n/*const Index= () => {\r\n    return(\r\n    <div>\r\n        <Head/>\r\n        <Nav/>\r\n    </div>\r\n    )\r\n}*/\n\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/pages/index.js"],"names":["Head","Nav","fetch","useSWR","fetcher","url","then","r","json","Post","props","post","content","getServerSideProps","data","Index","initialData","readyData","posts","map","_id"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,oBAAjB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,MAAP,MAAmB,KAAnB;;AAGA,MAAMC,OAAO,GAAGC,GAAD,IAAO;AAAC,SAAOH,KAAK,CAACG,GAAD,CAAL,CAAWC,IAAX,CAAgBC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAArB,CAAP;AAAsC,CAA7D;;AACA,MAAMC,IAAI,GAAGC,KAAD,IAAS;AACjB,QAAM;AAACC,IAAAA;AAAD,MAASD,KAAf;AACA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMC,IAAI,CAACC,OAAX,CAAP;AAAkC,CAFtC;;AAGA,OAAO,eAAeC,kBAAf,GAAoC;AACvC;AACA,QAAMC,IAAI,GAAG,MAAMV,OAAO,CAAE,iCAAF,CAA1B;AACA,SAAO;AAAEM,IAAAA,KAAK,EAAE;AAAEI,MAAAA;AAAF;AAAT,GAAP;AACD;;AAEH,SAASC,KAAT,CAAgBL,KAAhB,EAAuB;AACnB,QAAMM,WAAW,GAAGN,KAAK,CAACI,IAA1B;AACA,QAAM;AAAEA,IAAAA;AAAF,MAAWX,MAAM,CAAE,iCAAF,EAAoCC,OAApC,EAA6C;AAAEY,IAAAA;AAAF,GAA7C,CAAvB;AACD,QAAMC,SAAS,GAAIH,IAAI,CAACI,KAAL,CAAWC,GAAX,CAAgBR,IAAD,IAAQ,MAAC,IAAD;AAAM,IAAA,GAAG,EAAEA,IAAI,CAACS,GAAhB;AAAqB,IAAA,IAAI,EAAET,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvB,CAAnB;AACC,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMM,SAAN,CADA;AAGD;AAGH;;;;;;;;;;AAQA,eAAeF,KAAf","sourcesContent":["import Head from '../components/head'\r\nimport Nav from '../components/nav'\r\nimport fetch from 'node-fetch'\r\nimport useSWR from 'swr'\r\n\r\n\r\nconst fetcher =(url)=>{return fetch(url).then(r => r.json())}\r\nconst Post =(props)=>{\r\n    const {post} = props;\r\n    return(<div>{post.content}</div>)}\r\nexport async function getServerSideProps() {\r\n    //console.log(`${process.env.HOST}/api/posts`)\r\n    const data = await fetcher(`http://localhost:3000/api/posts`)\r\n    return { props: { data } }\r\n  }\r\n  \r\nfunction Index (props) {\r\n    const initialData = props.data\r\n    const { data } = useSWR(`http://localhost:3000/api/posts`, fetcher, { initialData })\r\n   const readyData =  data.posts.map((post)=><Post key={post._id} post={post}/>)\r\n    return (\r\n    <div>{readyData}</div>\r\n    )\r\n  }\r\n\r\n\r\n/*const Index= () => {\r\n    return(\r\n    <div>\r\n        <Head/>\r\n        <Nav/>\r\n    </div>\r\n    )\r\n}*/\r\nexport default Index"]},"metadata":{},"sourceType":"module"}