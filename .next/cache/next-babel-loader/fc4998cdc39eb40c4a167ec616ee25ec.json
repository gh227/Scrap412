{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\hero\\\\Documents\\\\projects\\\\Next\\\\pages\\\\index.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from '../components/head';\nimport Nav from '../components/nav';\nimport fetch from 'node-fetch';\nimport useSWR from 'swr';\n\nvar fetcher = function fetcher(url) {\n  return fetch(url).then(function (r) {\n    return r.json();\n  });\n};\n\nvar Post = function Post(props) {\n  var post = props.post;\n  console.log(\"host : \".concat(process.env.HOST, \"/api/posts\"));\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 12\n    }\n  }, post.content);\n};\n\nfunction Index(props) {\n  var _this2 = this;\n\n  var initialData = props.data;\n\n  var _useSWR = useSWR(\"http://localhost:3000/api/posts\", fetcher, {\n    initialData: initialData\n  }),\n      data = _useSWR.data;\n\n  var readyData = data.posts.map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 46\n      }\n    });\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }), __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }), readyData);\n}\n/*const Index= () => {\r\n    return(\r\n    <div>\r\n        <Head/>\r\n        <Nav/>\r\n    </div>\r\n    )\r\n}*/\n\n\nexport var __N_SSP = true;\nexport default Index;","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/pages/index.js"],"names":["Head","Nav","fetch","useSWR","fetcher","url","then","r","json","Post","props","post","console","log","process","env","HOST","content","Index","initialData","data","readyData","posts","map","_id"],"mappings":";;;;;AAAA,OAAOA,IAAP,MAAiB,oBAAjB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,MAAP,MAAmB,KAAnB;;AAGA,IAAMC,OAAO,GAAE,SAATA,OAAS,CAACC,GAAD,EAAO;AAAC,SAAOH,KAAK,CAACG,GAAD,CAAL,CAAWC,IAAX,CAAgB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,GAAjB,CAAP;AAAsC,CAA7D;;AACA,IAAMC,IAAI,GAAE,SAANA,IAAM,CAACC,KAAD,EAAS;AAAA,MACVC,IADU,GACFD,KADE,CACVC,IADU;AAEjBC,EAAAA,OAAO,CAACC,GAAR,kBAAsBC,OAAO,CAACC,GAAR,CAAYC,IAAlC;AACA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAML,IAAI,CAACM,OAAX,CAAP;AAAkC,CAHtC;;AAUA,SAASC,KAAT,CAAgBR,KAAhB,EAAuB;AAAA;;AACnB,MAAMS,WAAW,GAAGT,KAAK,CAACU,IAA1B;;AADmB,gBAEFjB,MAAM,oCAAoCC,OAApC,EAA6C;AAAEe,IAAAA,WAAW,EAAXA;AAAF,GAA7C,CAFJ;AAAA,MAEXC,IAFW,WAEXA,IAFW;;AAGpB,MAAMC,SAAS,GAAID,IAAI,CAACE,KAAL,CAAWC,GAAX,CAAe,UAACZ,IAAD;AAAA,WAAQ,MAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,IAAI,CAACa,GAAhB;AAAqB,MAAA,IAAI,EAAEb,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AAAA,GAAf,CAAnB;AACC,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGKU,SAHL,CADA;AAQD;AAGH;;;;;;;;;;;AAQA,eAAeH,KAAf","sourcesContent":["import Head from '../components/head'\r\nimport Nav from '../components/nav'\r\nimport fetch from 'node-fetch'\r\nimport useSWR from 'swr'\r\n\r\n\r\nconst fetcher =(url)=>{return fetch(url).then(r => r.json())}\r\nconst Post =(props)=>{\r\n    const {post} = props;\r\n    console.log(`host : ${process.env.HOST}/api/posts`)\r\n    return(<div>{post.content}</div>)}\r\nexport async function getServerSideProps() {\r\n    //console.log(`${process.env.HOST}/api/posts`)\r\n    const data = await fetcher(`http://localhost:3000/api/posts`)\r\n    return { props: { data } }\r\n  }\r\n  \r\nfunction Index (props) {\r\n    const initialData = props.data\r\n    const { data } = useSWR(`http://localhost:3000/api/posts`, fetcher, { initialData })\r\n   const readyData =  data.posts.map((post)=><Post key={post._id} post={post}/>)\r\n    return (\r\n    <div>\r\n        <Head/>\r\n        <Nav/>\r\n        {readyData}\r\n    </div>\r\n    \r\n    )\r\n  }\r\n\r\n\r\n/*const Index= () => {\r\n    return(\r\n    <div>\r\n        <Head/>\r\n        <Nav/>\r\n    </div>\r\n    )\r\n}*/\r\nexport default Index"]},"metadata":{},"sourceType":"module"}