{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\hero\\\\Documents\\\\projects\\\\Next\\\\pages\\\\index.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from '../components/head';\nimport Nav from '../components/nav';\nimport Intro from '../components/Intro';\nimport { categoryReturn, filterCat } from '../lib/posts';\nimport fetch from 'node-fetch';\nimport useSWR from 'swr';\n\nvar fetcher = function fetcher(url) {\n  var r;\n  return _regeneratorRuntime.async(function fetcher$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(url));\n\n        case 2:\n          r = _context.sent;\n          return _context.abrupt(\"return\", r.json());\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar Post = function Post(props) {\n  var post = props.post;\n  return __jsx(\"div\", {\n    className: \"col-lg-4 col-md-6 col-sm-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"news-container \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }\n  }, post.image_link !== null ? __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: post.image_link,\n    className: \"img-fluid sub-inner-img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 13\n    }\n  })) : __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: post.image_link,\n    className: \"img-fluid sub-inner-img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  })), __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  }, post.caption)));\n};\n\nvar Abstract = function Abstract(props) {\n  var post = props.post;\n  return __jsx(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"news-container news-tablet-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, post.image_link !== null ? __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: post.image_link,\n    className: \"img-fluid sub-inner-img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  })) : __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: post.image_link,\n    className: \"img-fluid sub-inner-img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  })), __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, post.caption)));\n};\n\nfunction Index(props) {\n  var _this2 = this;\n\n  var initialData = props.data;\n\n  var _useSWR = useSWR(\"http://localhost:3000/api/posts\", fetcher, {\n    initialData: initialData\n  }),\n      data = _useSWR.data;\n\n  var intro = categoryReturn(data.posts, 'intro', 1, 'abstract_cat')[0];\n  var business = filterCat(data.posts, {\n    category: 'business',\n    headings: 'not',\n    abstract_cat: ''\n  }).map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 111\n      }\n    });\n  });\n  var politics = filterCat(data.posts, {\n    category: 'politics',\n    headings: 'not',\n    abstract_cat: ''\n  }).map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 111\n      }\n    });\n  });\n  var celebrities = filterCat(data.posts, {\n    category: 'celebrities',\n    headings: 'not',\n    abstract_cat: ''\n  }).map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 117\n      }\n    });\n  });\n  var sport = filterCat(data.posts, {\n    category: 'sport',\n    headings: 'not',\n    abstract_cat: ''\n  }).map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 105\n      }\n    });\n  });\n  var social_media = filterCat(data.posts, {\n    category: 'social_media',\n    headings: 'not',\n    abstract_cat: ''\n  }).map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 119\n      }\n    });\n  });\n  var international = filterCat(data.posts, {\n    category: 'international',\n    headings: 'not',\n    abstract_cat: ''\n  }).map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 121\n      }\n    });\n  });\n  var tech_inno = filterCat(data.posts, {\n    category: 'tech_inno',\n    headings: 'not',\n    abstract_cat: ''\n  }).map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 113\n      }\n    });\n  });\n  var health = filterCat(data.posts, {\n    category: 'health',\n    headings: 'not',\n    abstract_cat: ''\n  }).map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 107\n      }\n    });\n  });\n  var latest_news = categoryReturn(data.posts, 'latest_news', 5, 'abstract_cat').map(function (post) {\n    return __jsx(Abstract, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 98\n      }\n    });\n  });\n  var top_news = categoryReturn(data.posts, 'top_stories', 5, 'abstract_cat').map(function (post) {\n    return __jsx(Abstract, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 95\n      }\n    });\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), __jsx(Intro, {\n    intro: intro,\n    posts: {\n      latest_news: latest_news,\n      top_news: top_news,\n      business: business,\n      politics: politics,\n      celebrities: celebrities,\n      sport: sport,\n      social_media: social_media,\n      international: international,\n      tech_inno: tech_inno,\n      health: health\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport var __N_SSP = true;\nexport default Index;","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/pages/index.js"],"names":["Head","Nav","Intro","categoryReturn","filterCat","fetch","useSWR","fetcher","url","r","json","Post","props","post","image_link","caption","Abstract","Index","initialData","data","intro","posts","business","category","headings","abstract_cat","map","_id","politics","celebrities","sport","social_media","international","tech_inno","health","latest_news","top_news"],"mappings":"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","sourcesContent":["import Head from '../components/head'\r\nimport Nav from '../components/nav'\r\nimport Intro from '../components/Intro'\r\nimport {categoryReturn, filterCat} from '../lib/posts'\r\nimport fetch from 'node-fetch'\r\nimport useSWR from 'swr'\r\n\r\n\r\nconst fetcher =async (url)=>{const r = await fetch(url)\r\nreturn r.json()}\r\nconst Post =(props)=>{\r\nconst {post} = props;\r\nreturn(                  \r\n    <div className=\"col-lg-4 col-md-6 col-sm-6\">\r\n        <div className=\"news-container \">\r\n            {\r\n            post.image_link !== null ?\r\n            <a className=\"news-items\" href=''>\r\n            <img src={post.image_link} className=\"img-fluid sub-inner-img\" />\r\n            </a>\r\n            :\r\n            <a className=\"news-items\" href=''>\r\n            <img src={post.image_link}  className=\"img-fluid sub-inner-img\"/>\r\n            </a>\r\n            }\r\n          <a className=\"news-items\" href=\"\">{post.caption}\r\n          </a>   \r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst Abstract =(props)=>{\r\n    const {post} = props;\r\n    return(                  \r\n        <div className=\"col-md-12 col-sm-12\">\r\n            <div className=\"news-container news-tablet-container\">\r\n                {\r\n                post.image_link !== null ?\r\n                <a className=\"news-items\" href=''>\r\n                <img src={post.image_link} className=\"img-fluid sub-inner-img\" />\r\n                </a>\r\n                :\r\n                <a className=\"news-items\" href=''>\r\n                <img src={post.image_link}  className=\"img-fluid sub-inner-img\"/>\r\n                </a>\r\n                }\r\n              <a className=\"news-items\" href=\"\">{post.caption}\r\n              </a>   \r\n            </div>\r\n        </div>\r\n        )\r\n}\r\n\r\nexport async function getServerSideProps() {\r\n    //console.log(`${process.env.HOST}/api/posts`)\r\n    const data = await fetcher(`http://localhost:3000/api/posts`)\r\n    return { props: { data } }\r\n  }\r\n \r\nfunction Index (props) {\r\n    const initialData = props.data\r\n   const { data } = useSWR(`http://localhost:3000/api/posts`, fetcher, { initialData })\r\n   const intro = categoryReturn(data.posts, 'intro', 1, 'abstract_cat')[0]\r\n   const business = filterCat(data.posts, {category:'business', headings:'not', abstract_cat:''}).map((post)=><Post key={post._id} post={post}/>)\r\n   const politics = filterCat(data.posts, {category:'politics', headings:'not', abstract_cat:''}).map((post)=><Post key={post._id} post={post}/>)\r\n   const celebrities = filterCat(data.posts, {category:'celebrities', headings:'not', abstract_cat:''}).map((post)=><Post key={post._id} post={post}/>)\r\n   const sport = filterCat(data.posts, {category:'sport', headings:'not', abstract_cat:''}).map((post)=><Post key={post._id} post={post}/>)\r\n   const social_media = filterCat(data.posts, {category:'social_media', headings:'not', abstract_cat:''}).map((post)=><Post key={post._id} post={post}/>)\r\n   const international = filterCat(data.posts, {category:'international', headings:'not', abstract_cat:''}).map((post)=><Post key={post._id} post={post}/>)\r\n   const tech_inno = filterCat(data.posts, {category:'tech_inno', headings:'not', abstract_cat:''}).map((post)=><Post key={post._id} post={post}/>)\r\n   const health = filterCat(data.posts, {category:'health', headings:'not', abstract_cat:''}).map((post)=><Post key={post._id} post={post}/>)\r\n   const latest_news =  categoryReturn(data.posts, 'latest_news', 5, 'abstract_cat').map((post)=><Abstract key={post._id} post={post}/>)\r\n   const top_news =  categoryReturn(data.posts, 'top_stories', 5, 'abstract_cat').map((post)=><Abstract key={post._id} post={post}/>)\r\n    return (\r\n    <div>\r\n        <Head/>\r\n        <Nav/>\r\n        <Intro intro={intro} posts= {{latest_news, top_news, business, politics, celebrities, sport, social_media, international,\r\n        tech_inno, health}}/>\r\n    </div>\r\n    \r\n    )\r\n  }\r\nexport default Index"]},"metadata":{},"sourceType":"module"}