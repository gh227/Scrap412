{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hero\\\\Documents\\\\projects\\\\Next\\\\pages\\\\news\\\\[cat]\\\\[title].js\";\nvar __jsx = React.createElement;\nimport Head from '../../../components/Head';\nimport Nav from '../../../components/Nav';\nimport Footer from '../../../components/Footer';\nimport Loader from '../../../components/Loader';\nimport { categoryReturn, filterCat, spliter } from '../../../lib/posts';\nimport Single from '../../../components/Single';\nimport Abstract from '../../../components/Abstract';\nimport React, { useState, useEffect } from 'react';\n\nfunction SinglePost(props) {\n  var _this = this;\n\n  var single = props.single.single,\n      latest_news = props.latest.latest_news,\n      top_news = props.topNews.top_news;\n  var latestObj = latest_news.map(function (post) {\n    return __jsx(Abstract, {\n      key: post._id,\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 45\n      }\n    });\n  });\n  var topNewsObj = top_news.map(function (post) {\n    return __jsx(Abstract, {\n      key: post._id,\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 43\n      }\n    });\n  });\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  useEffect(function () {\n    if (props) {\n      setTimeout(function () {\n        setLoading(false);\n      }, 3000);\n    }\n  }, []);\n  return __jsx(\"div\", {\n    id: \"app-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 3\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }), loading ? __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 16\n    }\n  }) : __jsx(\"div\", {\n    id: \"content\",\n    style: {\n      display: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }), __jsx(Single, {\n    intro: props.intro,\n    posts: {\n      single: single,\n      latestObj: latestObj,\n      topNewsObj: topNewsObj\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport var __N_SSP = true;\nexport default SinglePost;","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/pages/news/[cat]/[title].js"],"names":["Head","Nav","Footer","Loader","categoryReturn","filterCat","spliter","Single","Abstract","React","useState","useEffect","SinglePost","props","single","latest_news","latest","top_news","topNews","latestObj","map","post","_id","topNewsObj","loading","setLoading","setTimeout","display","intro"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,0BAAjB;AACA,OAAOC,GAAP,MAAgB,yBAAhB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,SAAQC,cAAR,EAAwBC,SAAxB,EAAkCC,OAAlC,QAAgD,oBAAhD;AAGA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;AAYA,SAASC,UAAT,CAAoBC,KAApB,EAA0B;AAAA;;AAAA,MACTC,MADS,GAC4CD,KAD5C,CACjBC,MADiB,CACTA,MADS;AAAA,MACQC,WADR,GAC4CF,KAD5C,CACAG,MADA,CACQD,WADR;AAAA,MAC+BE,QAD/B,GAC4CJ,KAD5C,CACsBK,OADtB,CAC+BD,QAD/B;AAExB,MAAME,SAAS,GAAGJ,WAAW,CAACK,GAAZ,CAAgB,UAACC,IAAD;AAAA,WAAQ,MAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,IAAI,CAACC,GAApB;AAAyB,MAAA,IAAI,EAAED,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AAAA,GAAhB,CAAlB;AACA,MAAME,UAAU,GAAGN,QAAQ,CAACG,GAAT,CAAa,UAACC,IAAD;AAAA,WAAQ,MAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,IAAI,CAACC,GAApB;AAAyB,MAAA,IAAI,EAAED,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AAAA,GAAb,CAAnB;;AAHwB,kBAIMX,QAAQ,CAAC,IAAD,CAJd;AAAA,MAIjBc,OAJiB;AAAA,MAIRC,UAJQ;;AAKxBd,EAAAA,SAAS,CAAC,YAAM;AACd,QAAGE,KAAH,EAAU;AACRa,MAAAA,UAAU,CAAC,YAAI;AAACD,QAAAA,UAAU,CAAC,KAAD,CAAV;AAAkB,OAAxB,EAA0B,IAA1B,CAAV;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;AAKA,SACA;AAAM,IAAA,EAAE,EAAC,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGD,OAAO,GAAG,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAER;AAAK,IAAA,EAAE,EAAC,SAAR;AAAkB,IAAA,KAAK,EAAE;AAACG,MAAAA,OAAO,EAAC;AAAT,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEA,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,EAGA,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEd,KAAK,CAACe,KAArB;AAA4B,IAAA,KAAK,EAAE;AAACd,MAAAA,MAAM,EAANA,MAAD;AAASK,MAAAA,SAAS,EAATA,SAAT;AAAoBI,MAAAA,UAAU,EAAVA;AAApB,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHA,EAIA,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJA,CAJF,CADA;AAiBD;;;AAID,eAAeX,UAAf","sourcesContent":["import Head from '../../../components/Head'\r\nimport Nav from '../../../components/Nav'\r\nimport Footer from '../../../components/Footer'\r\nimport Loader from '../../../components/Loader'\r\nimport {categoryReturn, filterCat,spliter} from '../../../lib/posts'\r\nimport { getSingle, getLatest, getTopNews } from '../../../lib/db';\r\nimport middleware from '../../../middlewares/middleware';\r\nimport Single from '../../../components/Single'\r\nimport Abstract from '../../../components/Abstract'\r\nimport React, {useState, useEffect} from 'react'\r\n\r\nexport async function getServerSideProps(context) {\r\n  \r\n  await middleware.apply(context.req, context.res);\r\n const single = await getSingle(context.req, context.params.title);\r\n const latest = await getLatest(context.req);\r\n const topNews = await getTopNews(context.req);\r\n  if (!single || !latest || !topNews) context.res.statusCode = 404;\r\n  return {props:{single, latest, topNews}}\r\n}\r\n\r\nfunction SinglePost(props){\r\n  const {single:{single}, latest:{latest_news}, topNews:{top_news} }= props\r\n  const latestObj = latest_news.map((post)=><Abstract key={post._id} post={post}/>)\r\n  const topNewsObj = top_news.map((post)=><Abstract key={post._id} post={post}/>)\r\n  const [loading, setLoading] = useState(true)\r\n  useEffect(() => {\r\n    if(props) {\r\n      setTimeout(()=>{setLoading(false)}, 3000)\r\n    }\r\n  }, [])\r\n  return(\r\n  <div  id=\"app-container\">\r\n    <Head/>\r\n    {loading ? <Loader/>\r\n    :\r\n    <div id=\"content\" style={{display:\"none\"}}>\r\n      \r\n    <Nav/>\r\n    <Single intro={props.intro} posts={{single, latestObj, topNewsObj}}/>\r\n    <Footer/>\r\n  </div>\r\n  }\r\n    \r\n    \r\n  </div>\r\n\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default SinglePost"]},"metadata":{},"sourceType":"module"}