{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\hero\\\\Documents\\\\projects\\\\Next\\\\pages\\\\news\\\\[cat]\\\\index.js\";\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Head from '../../../components/Head';\nimport Nav from '../../../components/Nav';\nimport Link from 'next/link';\nimport { categoryReturn, spliter } from '../../../lib/posts';\nimport CatComponent from '../../../components/Cat';\nimport Loader from '../../../components/Loader';\nimport Footer from '../../../components/Footer';\nimport Abstract from '../../../components/Abstract';\n\nvar Post = function Post(props) {\n  var post = props.post;\n  return __jsx(\"div\", {\n    className: \"col-lg-4 col-md-6 col-sm-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"news-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 11\n    }\n  }, post.image_link !== null ? __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: post.image_link,\n    className: \"img-fluid sub-inner-img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 15\n    }\n  })) : __jsx(\"a\", {\n    className: \"news-items\",\n    href: \"/news/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: post.image_link,\n    className: \"img-fluid sub-inner-img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 15\n    }\n  })), __jsx(Link, {\n    href: \"/news/[cat]/[title]\",\n    as: \"/news/\".concat(post.category, \"/\").concat(post.caption),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: \"news-items\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, post.caption))));\n};\n\nfunction Cat(props) {\n  var _this2 = this;\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  useEffect(function () {\n    if (props) {\n      setTimeout(function () {\n        setLoading(false);\n      }, 3000);\n    }\n  }, []);\n  var cat = props.currentCat.map(function (post) {\n    return __jsx(Post, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 42\n      }\n    });\n  });\n  var latest_news = categoryReturn(props.data, 'latest_news', 5, 'abstract_cat').map(function (post) {\n    return __jsx(Abstract, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 95\n      }\n    });\n  });\n  var top_news = categoryReturn(props.data, 'top_stories', 5, 'abstract_cat').map(function (post) {\n    return __jsx(Abstract, {\n      key: post._id,\n      post: post,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 92\n      }\n    });\n  });\n  var catArray = spliter(cat, 12);\n  return __jsx(\"div\", {\n    id: \"app-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 1\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 1\n    }\n  }), loading ? __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }) : __jsx(\"div\", {\n    id: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 3\n    }\n  }, __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }), __jsx(CatComponent, {\n    intro: props.intro,\n    posts: {\n      cat: catArray,\n      latest_news: latest_news,\n      top_news: top_news\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport var __N_SSP = true;\nexport default Cat;","map":{"version":3,"sources":["C:/Users/hero/Documents/projects/Next/pages/news/[cat]/index.js"],"names":["React","useState","useEffect","Head","Nav","Link","categoryReturn","spliter","CatComponent","Loader","Footer","Abstract","Post","props","post","image_link","category","caption","Cat","loading","setLoading","setTimeout","cat","currentCat","map","_id","latest_news","data","top_news","catArray","intro"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport Head from '../../../components/Head'\nimport Nav from '../../../components/Nav'\nimport Link from 'next/link'\nimport {categoryReturn, filterCat,spliter} from '../../../lib/posts'\nimport { getPosts } from '../../../lib/db';\nimport middleware from '../../../middlewares/middleware';\nimport CatComponent from '../../../components/Cat'\nimport Loader from '../../../components/Loader'\nimport Footer from '../../../components/Footer'\nimport Abstract from '../../../components/Abstract'\n\nconst Post =(props)=>{\n  const {post} = props;\n  \n  return(                  \n      <div className=\"col-lg-4 col-md-6 col-sm-6\">\n          <div className=\"news-container\">\n              {\n              post.image_link !== null ?\n              <a className=\"news-items\" href=''>\n              <img src={post.image_link} className=\"img-fluid sub-inner-img\" />\n              </a>\n              :\n              <a className=\"news-items\" href={`/news/`}>\n              <img src={post.image_link}  className=\"img-fluid sub-inner-img\"/>\n              </a>\n              }\n            <Link href=\"/news/[cat]/[title]\" as={`/news/${post.category}/${post.caption}`}>\n                <a className=\"news-items\" >\n                  {post.caption}\n                </a> \n            </Link>\n              \n          </div>\n      </div>\n      )\n  }\n\n\nexport async function getServerSideProps(context) {\n  await middleware.apply(context.req, context.res);\n const posts = await getPosts(context.req, context.params.cat);\n  if (!posts) context.res.statusCode = 404;\n  const {posts:data} = posts\n  const intro = categoryReturn(data, context.params.cat, 1, 'headings')[0];\n  const currentCat = filterCat(data, {category:context.params.cat, headings:'not', abstract_cat:'none'})\n  return {props:{data, currentCat, intro,}}\n}\n\nfunction Cat(props){\n  const [loading, setLoading] = useState(true)\n  useEffect(() => {\n    if(props) {\n      setTimeout(()=>{setLoading(false)}, 3000)\n    }\n  }, [])\nconst cat = props.currentCat.map((post)=><Post key={post._id} post={post}/>)\nconst latest_news =  categoryReturn(props.data, 'latest_news', 5, 'abstract_cat').map((post)=><Abstract key={post._id} post={post}/>)\nconst top_news =  categoryReturn(props.data, 'top_stories', 5, 'abstract_cat').map((post)=><Abstract key={post._id} post={post}/>)\nconst catArray = spliter(cat, 12)\n  return(\n<div  id=\"app-container\">\n<Head/>\n{\n  loading?<Loader/>\n  :\n  <div id=\"content\" >\n   \n    <Nav/>\n    <CatComponent intro={props.intro} posts={{cat:catArray, latest_news, top_news}}/>\n    <Footer/>\n  </div>\n}\n      \n  \n  \n</div>\n  )\n}\n\n\n\nexport default Cat\n"]},"metadata":{},"sourceType":"module"}